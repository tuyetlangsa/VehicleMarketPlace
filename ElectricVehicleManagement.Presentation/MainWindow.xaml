<Window x:Class="ElectricVehicleManagement.Presentation.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:ElectricVehicleManagement.Data.Models;assembly=ElectricVehicleManagement.Data"
        Title="Auth0 OIDC Client Sample"
        WindowStartupLocation="CenterScreen"
        Height="1000"
        Width="2000"
        FontFamily="Tahoma"
        FontSize="18"
        Background="#FFA7F3D0"
        Loaded="Window_Loaded">

    <DockPanel>
        <!-- Top Login Panel -->
        <Border DockPanel.Dock="Top" Background="#FF2C3E50" Padding="10" CornerRadius="0,0,10,10">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center" >
                
                <ComboBox x:Name="connectionNameComboBox"
                          Width="180"
                          Height="30"
                          Margin="0,0,10,0"
                          VerticalAlignment="Center"
                          IsEditable="True"
                          Padding="5"
                          FontSize="14"
                          Background="White"
                          BorderBrush="#FFBDC3C7"
                          BorderThickness="1"
                          />

                <Button x:Name="loginButton"
                        Content="Login"
                        Width="80"
                        Height="30"
                        Margin="0,0,10,0"
                        Background="#FF27AE60"
                        Foreground="White"
                        FontWeight="Bold"
                        BorderThickness="0"
                        Cursor="Hand" />

                <Image x:Name="avatarImage"
                       Width="40"
                       Height="40"
                       Margin="0,0,10,0"
                       Visibility="Collapsed"
                       ClipToBounds="True"
                       Stretch="UniformToFill"
                       />

                <TextBlock x:Name="emailTextBlock"
                           VerticalAlignment="Center"
                           FontWeight="Bold"
                           Foreground="White"
                           Margin="0,0,10,0"
                           Visibility="Collapsed" />

                <Button x:Name="logoutButton"
                        Content="Logout"
                        Width="80"
                        Height="30"
                        Margin="0,0,0,0"
                        Background="#FFC0392B"
                        Foreground="White"
                        FontWeight="Bold"
                        BorderThickness="0"
                        Visibility="Collapsed"
                        Cursor="Hand" />
            </StackPanel>
        </Border>

        <!-- Search Box -->
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="20,10,20,10" HorizontalAlignment="Center">
            <TextBox Width="400"
                     Height="35"
                     FontSize="14"
                     Padding="5"
                     Background="White"
                     BorderBrush="#FFBDC3C7"
                     BorderThickness="1"
                     Text="Search listings..." />
            <Button Content="Search"
                    Width="100"
                    Height="35"
                    Margin="10,0,0,0"
                    Background="#FF2980B9"
                    Foreground="White"
                    FontWeight="Bold"
                    BorderThickness="0"
                    Cursor="Hand"/>
        </StackPanel>

        <!-- Listings Grid -->
        <ScrollViewer VerticalScrollBarVisibility="Auto" Margin="10,0,10,10">
            <ItemsControl x:Name="ListingsItemsControl" HorizontalAlignment="Center">
    <ItemsControl.ItemsPanel>
        <ItemsPanelTemplate>
            <WrapPanel HorizontalAlignment="Center"
                       ItemWidth="280"
                       ItemHeight="Auto"
                       Margin="0"/>
        </ItemsPanelTemplate>
    </ItemsControl.ItemsPanel>

    <ItemsControl.ItemTemplate>
        <DataTemplate DataType="{x:Type local:Listing}">
            <Border CornerRadius="10"
                    Margin="10"
                    Padding="10"
                    BorderBrush="#FFBDC3C7"
                    BorderThickness="1"
                    Background="#FFD0F8E0"
                    Effect="{DynamicResource DropShadowEffect}"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Stretch">
                <StackPanel>
                    <Image Height="300"       
                           Stretch="UniformToFill"
                           Margin="0 0 0 8"
                           Source="{Binding Images[0].ImageUrl}" />

                    <TextBlock Text="{Binding Title}"
                               FontSize="16"
                               FontWeight="Bold"
                               Foreground="#FF2C3E50"
                               TextWrapping="Wrap"
                               Margin="0 0 0 4" />

                    <TextBlock Text="{Binding VehicleBrand}"
                               FontWeight="SemiBold"
                               Foreground="#FF34495E"
                               TextWrapping="Wrap"/>

                    <TextBlock Text="{Binding VehicleModel}"
                               Foreground="#FF34495E"
                               TextWrapping="Wrap"/>

                    <TextBlock Text="{Binding Price, StringFormat=C}"
                               Foreground="#FF27AE60"
                               FontSize="16"
                               FontWeight="Bold"
                               Margin="0 6 0 0"/>
                </StackPanel>
            </Border>
        </DataTemplate>
    </ItemsControl.ItemTemplate>
</ItemsControl>

        </ScrollViewer>
    </DockPanel>
</Window>
